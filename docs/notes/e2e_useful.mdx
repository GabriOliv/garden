---
sidebar_position: 1
title: E2E √© √ötil?
description: Testes Automatizados E2E s√£o √∫teis ou s√£o apenas uma fal√°cia de mercado em rela√ß√£o √† qualidade de software?
tags: [stageA, notes, qa, theory]
draft: false
---

# E2E √© √ötil?

{frontMatter.description}<br />

---

### Testes Automatizados E2E

A Defini√ß√£o mais de comum do Teste E2E (end-to-end) √© sendo a valida√ß√£o que percorre um fluxo completo de uma aplica√ß√£o, de "ponta a ponta", simulando o comportamento real do usu√°rio. A ideia principal √© testar a aplica√ß√£o final, com todos os componentes interagindo entre si, clicando automaticamente na tela e validando o caminho que o usu√°rio faria nas telas para ter o resultado esperado, como fazer um login, cadastrar um produto ou finalizar uma compra.

Por ser um teste que junta dois conceitos, intera√ß√£o com interface e valida√ß√£o de fluxo completo, √© comum que haja confus√£o entre testes E2E e outros tipos de testes. Dois tipos comumente confundidos com E2E s√£o os testes de API e testes de componente de interface.

Muitos profissionais colocam os testes de API como parte dos testes E2E, j√° que a API tamb√©m √© uma interface de intera√ß√£o para requisi√ß√µes e respostas. Mas precisam de ferramentas diferentes (insomnia, postman, etc) e abordagens diferentes (cobrindo os grupos de endpoints e n√£o essencialmente fluxos completos).

J√° testes de componente de interface s√£o testes que validam partes isoladas da interface. Renderizando componentes isolados e validando se eles funcionam como esperado, sem considerar o fluxo completo da aplica√ß√£o. Essa confus√£o √© comum porque muitas das ferramentas usadas para estes testes, como Cypress, tamb√©m s√£o usadas para testes E2E.

Em algumas literaturas e discuss√µes, Teste de API e Componentes de Interface, s√£o tidos como subcategorias de E2E, mas para evitar confus√µes entre processos de teste, vamos considerar que estes s√£o categorias separadas. E considerando somente como E2E os testes que validam o fluxo completo da aplica√ß√£o, do in√≠cio ao fim de um processo, interagindo com a UI das telas, simulando o usu√°rio.

### Fluxo de Trabalho

Trabalhar com a cria√ß√£o de um teste E2E √© parecido com o processo geral de automa√ß√£o de qualquer teste.

1. Planejamento de qual teste ser√° automatizado
2. Realizar o teste manualmente, para entender o fluxo e o que precisa ser validado
3. Transformar os pontos do teste manual em passos automatizados
4. Adicionar o teste a um pipeline de testes adequado

```mermaid
%%{init:{'flowchart':{'useMaxWidth':'true'}}}%%
flowchart LR

	x@{ shape: circle, label: "Start" }
	a[Planejar<br>o teste]
	b[Testar<br>manualmente]
	c[Identificar os passos<br>do fluxo manual]
	d[Transformar os passos<br>em automa√ß√£o]
	e[Adicionar o teste<br>ao pipeline]
	z@{ shape: dbl-circ, label: "End" }

	subgraph cd["Automatizar"]
		direction LR
		c l0@==> d
		d l1@==> c

		l0@{ animate: true}
		l1@{ animate: true}
	end

	x --> a --> b --> cd --> e --> z
```

Claro que os passos acima possuem v√°rios subpassos e detalhes, mas o fluxo geral √© esse.

Em um teste unit√°rio, o desenvolvedor ap√≥s terminar a cria√ß√£o de uma fun√ß√£o ou m√©todo, a executa manualmente com diferentes entradas e sa√≠das, validando se est√° correta, e depois cria o teste automatizado (unit√°rio) que far√° inputs e a valida√ß√£o dos outputs esperados.

No E2E, o tester faz o fluxo completo manualmente, validando como o sistema se comporta, e depois transforma esse fluxo em um teste automatizado. Criando um script que vai interagir com a interface, como ele faria manualmente, e validando se a aplica√ß√£o se comportou como esperado.

Um ponto importante do fluxo √© que o teste manual j√° precisa estar validado antes da automa√ß√£o, sendo necess√°rio saber quais inputs e outputs s√£o esperados. Se houver alguma d√∫vida, o teste que acabou de ser automatizado n√£o ser√° t√£o confi√°vel como deveria ser. E nessa parte que o teste E2E come√ßa a gerar problemas.

Diferente de um teste unit√°rio, que est√° no come√ßo do processo e √© mais f√°cil e r√°pido de validar e alterar, j√° que o desenvolvedor est√° diante do c√≥digo. Abrindo possibilidades para outras formas de desenvolvimento como TDD. J√° o teste E2E est√° quase na ponta final do processo e o tester n√£o est√° vi√°vel de alterar o c√≥digo do software quando algo quebra, precisando retornar a feature para o come√ßo do processo de desenvolvimento para corrigir o erro.

Precisar se valer de um teste manual completo e seguro faz com que o teste E2E imponha uma carga de trabalho maior para o tester, que deve se assegurar da mitiga√ß√£o de todos os bugs das partes do software envolvidas no fluxo com valida√ß√µes manuais antes de criar o teste automatizado sobre um sistema est√°vel.

### Pontos Positivos

1. üõ†Ô∏è Garantem que o sistema funcione como um todo
	- Testes E2E validam a aplica√ß√£o do ponto de vista do usu√°rio, cobrindo fluxos completos.
2. üîÑ Detectam regress√µes reais
	- Quando algo quebra de verdade para o usu√°rio, geralmente √© pego por um E2E.
3. üë§ Simulam o comportamento do usu√°rio
	- Eles testam a interface e intera√ß√µes da forma mais pr√≥xima da realidade.
4. üîí S√£o independentes de implementa√ß√£o interna
	- N√£o dependem de detalhes de c√≥digo, o que evita refatora√ß√µes quebrando os testes.
5. üöÄ Aumentam a confian√ßa nas releases
	- Equipes se sentem mais seguras para lan√ßar c√≥digo quando h√° uma su√≠te E2E robusta.
6. üîç Podem ser aproveitados em testes de smoke/regress√£o automatizados em pipelines CI/CD
	- Servem como linha de defesa final antes do deploy.
7. üèóÔ∏è S√£o √∫teis em sistemas legados ou de terceiros, onde √© dif√≠cil testar por dentro
	- Quando n√£o h√° testes unit√°rios ou de integra√ß√£o suficientes, os E2E ainda conseguem validar o comportamento.
8. üíé Valem mais por teste do que testes unit√°rios isolados
	- Cobrem v√°rios componentes de uma vez, sendo mais "valiosos" por execu√ß√£o.
9. üåê Facilitam testes de acessibilidade, performance e usabilidade em produ√ß√£o
	- Com ferramentas como Cypress ou Playwright, √© poss√≠vel incluir checagens al√©m do ‚Äúfuncionou ou n√£o‚Äù.
10. üìã Ajudam a alinhar QA, Devs e PMs em crit√©rios de aceita√ß√£o
	 - Servem como documenta√ß√£o viva dos requisitos de neg√≥cio.
11. üêõ Reproduzem cen√°rios de bugs de interface imposs√≠veis de serem reproduzidos humanamente
	 - Como simular dois usu√°rios interagindo ao mesmo tempo na mesma tela.
12. üåç Garantem compatibilidade entre navegadores
	- Testam a aplica√ß√£o em diferentes browsers, assegurando que funcione corretamente em todos eles.
13. üì± Validam a responsividade da interface
	- Verificam se a aplica√ß√£o se adapta bem a diferentes tamanhos de tela e dispositivos.
14. üî• Ajuda nos smoke tests
	- Validar se a aplica√ß√£o est√° rodando e acess√≠vel, como um teste de sanidade inicial.

### Pontos Negativos

1. üê¢ Teste E2E tem a execu√ß√£o lenta.
	- Ele simula um usu√°rio real tela a tela, o que consome muito tempo.
2. üí∞ S√£o caros de execu√ß√£o.
	- Precisam de toda a aplica√ß√£o funcionando, muitas vezes com os v√°rios micro-servi√ßos rodando.
3. üîß Requerem manuten√ß√£o constante.
	- Mesmo usando design patterns como Page Object, a manuten√ß√£o √© a mesma de um software separado.
4. üö® Alta taxa de falsos negativos.
	- Afetado por erros de timing, ambientes inconsistentes e depend√™ncias externas causam muitos falsos alarmes.
5. ü§î Confus√£o conceitual.
	- Muitas empresas e equipes prop√µem fazer testes E2E, mas na pr√°tica s√£o testes de integra√ß√£o ou smoke tests.
6. üö´ Considerar que E2E √© o √∫nico teste necess√°rio.
	- Dispensando o uso de outros testes, como unit√°rios e de integra√ß√£o.
7. ‚è≥ Pouco tempo ou maturidade para manter uma su√≠te E2E robusta.
	- A falta de tempo e recursos pode levar a uma su√≠te E2E fr√°gil e n√£o confi√°vel.
8. üõ†Ô∏è N√£o pode ser implementado se n√£o houver outros testes abaixo da pir√¢mide.
	- E2E n√£o substitui testes unit√°rios e de integra√ß√£o, apenas complementa.
9. üë§ Simula a utiliza√ß√£o do usu√°rio, mas n√£o substitui a vis√£o do cliente.
	- A vis√£o de alta independ√™ncia de teste do cliente ainda √© necess√°ria.
10. üñºÔ∏è N√£o s√£o vi√°veis se n√£o houver padroniza√ß√£o de telas.
	 - Se n√£o houver um padr√£o ou testes de componente de interface, o E2E n√£o ser√° confi√°vel.

---

> E2E n√£o substitui outras formas de teste. Empresas precisam estar maduras para usar E2E como uma camada complementar de qualidade.

---

### Refer√™ncias

- Artigos e Documenta√ß√µes:
	- **VOCKE, Ham**. Practical Test Pyramid. *martinfowler.com*. Publicado em: 26 fevereiro 2018. Dispon√≠vel em: [https://martinfowler.com/articles/practical-test-pyramid.html#End-to-endTests](https://martinfowler.com/articles/practical-test-pyramid.html#End-to-endTests). Acesso em: 18 abr. 2025.
		- Descreve a separa√ß√£o entre testes E2E e testes de componentes de interface, e como alguns pensadores da √°rea consideram como uma √∫nica abordagem.
	- **Cypress**. Why Cypress? *Cypress Documentation*. Dispon√≠vel em: [https://docs.cypress.io/app/get-started/why-cypress#Component-Testing](https://docs.cypress.io/app/get-started/why-cypress#Component-Testing). Acesso em: 18 abr. 2025.
		- Cypress √© uma ferramenta de testes E2E que possui uma se√ß√£o dedicada a implementar testes de componentes de interface.
- Livros:
	- **AXELROD, Arnon**. *Complete Guide to Test Automation: Techniques, Practices, and Patterns for Building and Maintaining Effective Software Projects*. Apress, 2018. [https://doi.org/10.1007/978-1-4842-3832-5](https://doi.org/10.1007/978-1-4842-3832-5).
		- Aborda o processo e escopos de testes que funcionam melhor ou n√£o com testes E2E.
	- **CRISPIN, Lisa; GREGORY, Janet**. *Agile Testing: A Practical Guide for Testers and Agile Teams*. Addison-Wesley, 2009.
		- Descreve que testes E2E foram importantes para executar valida√ß√µes automatizadas, mas que n√£o seriam necess√°rios se houvesse cobertura de testes dos componentes do sistema.


---